# 粗体颜色设置功能使用说明

## 功能简介

这个功能允许您为思源笔记中的粗体文字设置自定义颜色。通过右键菜单中的"设置粗体颜色"选项，您可以：

1. 选择预设的常用颜色
2. 使用颜色选择器设置自定义颜色
3. 实时预览颜色效果
4. 应用颜色到选中的或所有的粗体文字

## 使用方法

### 步骤1：选择文本块
在思源笔记中，在包含粗体文字的段落或块上右键点击。

### 步骤2：打开颜色选择器
在右键菜单中选择"设置粗体颜色"（🎨图标）。

### 步骤3：选择颜色
在弹出的颜色选择器中：
- **预设颜色**：点击任意一个预设的颜色块
- **我的自定义颜色**：使用之前保存的自定义颜色
- **选择新颜色**：使用颜色选择器输入框选择任意颜色
- **保存颜色**：点击"保存颜色"按钮将当前选择的颜色保存到自定义颜色区域
- **删除颜色**：悬停在自定义颜色上，点击右上角的"×"删除
- **实时预览**：在"预览"区域查看颜色效果

### 步骤4：应用颜色
点击"确定"按钮应用颜色到粗体文字。

## 功能特性

### 🎨 丰富的颜色选择
- 12种预设常用颜色（红、橙、黄、绿、蓝、紫等）
- 完整的颜色选择器支持自定义颜色
- **自定义颜色保存**：可保存最多12个常用的自定义颜色
- **一键删除**：悬停在自定义颜色上可快速删除
- 悬停效果和选中高亮

### 👀 实时预览
- 选择颜色时实时显示预览效果
- 预览文字："这是**粗体文字**的预览效果"

### 🎯 智能应用
- **有文本选择**：只对选择范围内的粗体文字应用颜色
- **无文本选择**：对整个块中的所有粗体文字应用颜色
- 支持 `<strong>` 标签和 `span[data-type~="strong"]` 元素

### 💬 用户反馈
- 成功应用时显示确认消息
- 未找到粗体文字时显示警告消息
- 保存/删除自定义颜色时显示操作反馈
- 达到保存上限时显示提示信息

## 技术实现

- 使用思源笔记的 `blockIconEvent` 事件添加右键菜单项
- 通过 `IOperation` 和 `transaction` API 更新块内容
- 使用 `Dialog` 组件创建美观的颜色选择界面
- CSS 样式设置粗体文字的颜色属性
- 通过 `loadData` 和 `saveData` API 持久化保存自定义颜色
- 动态渲染自定义颜色区域，支持实时增删

## 兼容性

- ✅ 支持标准的 `<strong>` 粗体标签
- ✅ 支持思源笔记的 `span[data-type~="strong"]` 粗体格式
- ✅ 支持文本选择和无选择两种应用模式
- ✅ 自动保存到文档中，重新打开时颜色保持
- ✅ 自定义颜色跨设备同步（通过思源笔记数据同步）
- ✅ 支持最多12个自定义颜色的保存

## 注意事项

1. 颜色设置会直接修改HTML元素的style属性
2. 建议在重要文档中使用前先做备份
3. 颜色设置是永久性的，会保存在文档中
4. 如需移除颜色，可以通过思源笔记的格式清除功能
5. 自定义颜色最多保存12个，超出限制时需要先删除已有颜色
6. 自定义颜色数据会随思源笔记数据同步到其他设备

---

**提示**：这个功能完全兼容思源笔记的现有格式系统，不会影响其他功能的正常使用。 